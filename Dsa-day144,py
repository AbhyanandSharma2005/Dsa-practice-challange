class Solution:
    def countTriples(self, n: int) -> int:
        count = 0
        squares = [i * i for i in range(n + 1)]
        sq_set = set(squares)
        
        for a in range(1, n + 1):
            for b in range(1, n + 1):
                need = squares[a] + squares[b]
                if need in sq_set:
                    c = int(need ** 0.5)
                    if c <= n:
                        count += 1
        return count